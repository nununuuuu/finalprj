# 智慧投資與程式交易課程：期末專案

## 專案目標

本專案旨在綜合應用本課程所學的全部知識，從策略發想、數據處理、回測分析到成果展示，完成一個屬於你們自己的量化交易策略專案。你們將親手打造一個具備網頁介面的交易儀表板，用來呈現你們設計的交易策略及其歷史回測績效。

---

## 專案描述

你們需要自行設計或實作一個交易策略，利用本課程介紹的 `backtesting.py` 框架，或者其他足以提供回測數據的工具進行回測，並使用 `FastAPI` 和 `Jinja2` 將你們的策略描述、回測績效報告和資金曲線圖，整合在一個簡單的網頁儀表板上。

---

## 核心要求 (必須完成)

1. **策略定義與實作**:
    * **策略邏輯**: 你們必須明確定義你們的交易策略。這可以是基於課程中提到的均線交叉、RSI 指標，或是你們自己發想、從網路上找到的其他策略。
    * **策略文件**: 你們必須在網頁上或報告中，用文字清晰地描述你們的策略邏輯、買賣點的判斷依據以及你們認為它可能有效的原因。
    * **策略程式碼**:  
        * 可以使用 `backtesting.py` 的 `Strategy` 類別，將你們的策略邏輯寫成 Python 程式碼。
        * 也可以使用自己開發的策略架構，只要能夠產生回測數據皆可。

2. **數據處理**:
    * 你們必須自行準備用於回測的歷史數據。可以使用 `yfinance` 套件來抓取真實的股票、指數或 ETF 的日線資料，並存為 CSV 檔。你們也可以使用自己找到的任何 OHLCV 格式的數據。或者使用老師給的那一支程式抓取足夠多的歷史數據。

3. **策略回測**:
    * 你們的專案必須能夠執行回測流程，並產出績效報告。
    * 你們可以使用課程中介紹的 `backtesting.py` 框架，也可以採用自己研發的回測邏輯，或是其他來源的回測工具。
    * **只要能夠產生回測數據（如：總報酬率、最大回撤、資金曲線等），皆可採用。**

4. **網頁儀表板 (FastAPI + Jinja2)**:
    * **後端 API**: 使用 `FastAPI` 建立一個 Web 伺服器。
    * **前端樣板**: 使用 `Jinja2` 建立至少一個 HTML 頁面。
    * **結果呈現**: 你們的網頁必須至少包含以下三個部分：
        1. **策略描述區**: 用文字說明你們的策略。
        2. **績效指標區**: 以表格形式，清楚地展示回測報告中的主要績效指標 (例如：總報酬率、最大回撤、夏普比率、勝率等)。
        3. **資金曲線圖**: 將回測的資金曲線 (Equity Curve) 數據傳遞到前端，並使用 `Chart.js` 或其他 JavaScript 圖表庫繪製成折線圖。

---

## 加分項目 (可選)

* **參數化介面**: 在網頁上建立一個表單，讓使用者可以動態調整策略的參數 (例如：MA 的天數、RSI 的週期)，並即時重新執行回測、更新結果頁面。
* **策略比較**: 在儀表板上可以比較兩種或以上不同策略或不同參數設定的回測結果。
* **進階視覺化**: 除了資金曲線，也呈現其他圖表，例如交易點位圖、年度報酬率長條圖等。
* **使用 Pydantic**: 在 FastAPI 中使用 Pydantic 模型來處理前端傳來的參數，讓後端程式碼更穩健。
* **模板繼承**: 如果你們的儀表板有多個頁面，使用 Jinja2 的模板繼承功能來管理共同的版型。

---

## 繳交內容

請將以下所有內容打包成一個 `.zip` 檔案繳交：

1. **原始碼資料夾**: 包含你們所有的 `.py` 檔案、`templates` 資料夾以及相關的 `.html` 檔案。
2. **數據檔案**: 你們用於回測的 `.csv` 資料檔案。
3. **`pyproject.toml`**: 專案設定檔，列出你們的專案所需要安裝的所有 Python 套件及其版本 (使用 `uv` 進行套件管理)。
4. **`README.md`**: 一份說明文件，內容包含：
    * 專案名稱、你們的姓名、學號。
    * **環境設定說明**: 如何使用 `uv` 建立虛擬環境並安裝套件 (例如：`uv sync`)。
    * **執行方法**: 如何啟動你們的 FastAPI 伺服器 (例如：`uv run uvicorn main:app --reload`)，以及如何開啟儀表板網頁。
    * **專案設計說明**: 再次簡述你們的策略邏輯與專案架構。
    * **心得總結**: 分享你們在完成這個專案過程中的發現、遇到的困難與解決方法，以及你們對回測結果的分析與看法。

---

## Demo 環節

除了繳交 `.zip` 檔案外，**你們必須在課程最後一堂課進行 Demo 展示**，向全班同學及老師現場展示你們的專案成果。

### Demo 要求

* **時間**: 每組約 **8-10 分鐘**。
* **展示內容**:
    1. 簡述你們的交易策略邏輯與設計理念。
    2. 現場啟動你們的 FastAPI 伺服器，展示網頁儀表板的運作。
    3. 說明回測績效結果，並分享你們對結果的分析與心得。
    4. (如有實作加分項目) 展示你們的進階功能。
* **注意事項**:
  * 請事先確保你們的專案可以在 Demo 當天順利執行。
  * 請準備好簡報或說明文件，方便在有限時間內清楚表達你們的專案內容。
  * 可以使用自己的設備，如果怕出問題，可以提前兩三周使用教室設備測試。
  * 建議提前測試，避免環境問題影響展示。
  * Demo 表現將納入最終評分考量。

---

## 評分標準

| 項目 | 說明 | 佔比 |
| :--- | :--- | :--- |
| **策略邏輯與文件 (20%)** | 策略定義是否清晰、合理，文件說明是否完整。 | 20% |
| **程式碼品質 (30%)** | 程式碼是否結構清晰、易於閱讀、註解是否適當，是否遵循課程中的最佳實踐。 | 30% |
| **回測與分析 (25%)** | 回測流程是否正確執行，是否能對回測結果的關鍵指標進行分析與解讀。 | 25% |
| **儀表板功能與呈現 (25%)** | 網頁儀表板是否成功整合後端與前端，功能是否符合要求，介面是否清晰易用。 | 25% |
| **加分項目** | 根據完成的加分項目酌量加分。 | 最高 10% |

**祝你們好運！**
